{"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CAGa;AAHb;AACA;;AAEO,MAAM,SAAS;IAClB,MAAM,OAAO,IAAI,CAAA,GAAA,qBAAe,AAAD,EAG5B,CAAC,wBAAwB,CAAC;IAE7B,KAAK,YAAY,CAAC,CAAC;QACf,KAAK,QAAQ;QACb,KAAK,WAAW;QAChB,KAAK,sBAAsB,CAAC;QAE5B,CAAA,GAAA,wBAAQ,AAAD,EAAE,IAAI,CACb,kBAAkB,CAAC;YACf,OAAO,KAAK,KAAK;YACjB,UAAU,KAAK,QAAQ;QAC3B,GACA,IAAI,CAAC,CAAC;YACF,IAAI,KAAK,KAAK,EAAE;gBACZ,KAAK,oBAAoB,CAAC;oBACtB,OAAO,KAAK,KAAK,CAAC,OAAO,IACzB;gBACJ;gBACA,KAAK,cAAc;gBACnB,KAAK,sBAAsB,CAAC;gBAC5B;YACJ;YAEA,KAAK,sBAAsB,CAAC;YAC5B,CAAA,GAAA,cAAQ,AAAD,EAAE;QACb,GACA,KAAK,CAAC,CAAC;YACH,KAAK,oBAAoB,CAAC;gBACtB,OAAO,MAAM,OAAO,IACpB;YACJ;YACA,KAAK,cAAc;YACnB,KAAK,sBAAsB,CAAC;YAC5B;QACJ,GACA,OAAO,CAAC;YACJ,KAAK,UAAU;QACnB;IACJ;AACJ","sources":["src/modules/auth/signIn.ts"],"sourcesContent":["import { navigate, WFFormComponent } from \"@xatom/core\"\nimport supabase from \"../supabase\";\n\nexport const signIn = () => {\n    const form = new WFFormComponent<{\n        email: string;\n        password: string;\n    }>(`[xa-type=\"sign-in-form\"]`);\n\n    form.onFormSubmit((data) => {\n        form.showForm();\n        form.disableForm();\n        form.updateSubmitButtonText(\"Please wait...\");\n\n        supabase.auth.\n        signInWithPassword({\n            email: data.email,\n            password: data.password\n        }).\n        then((data) => {\n            if (data.error) {\n                form.updateTextViaAttrVar({\n                    error: data.error.message ||\n                    \"Unable to login. Please try again.\"\n                });\n                form.showErrorState();\n                form.updateSubmitButtonText(\"Login\");\n                return;\n            }\n\n            form.updateSubmitButtonText(\"Redirecting...\");\n            navigate(\"/dashboard/overview\");\n        }).\n        catch((error) => {\n            form.updateTextViaAttrVar({\n                error: error.message ||\n                \"Unable to login. Please try again.\"\n            });\n            form.showErrorState();\n            form.updateSubmitButtonText(\"Login\");\n            return;\n        }).\n        finally(() => {\n            form.enableForm();\n        });\n    })\n}"],"names":[],"version":3,"file":"signIn.e51c192a.js.map","sourceRoot":"../"}